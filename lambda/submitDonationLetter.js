!function(t,e){for(var r in e)t[r]=e[r]}(exports,function(t){var e={};function r(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=80)}([,,,,,,,,,,function(t,e,r){"use strict";var n=r(38),s=Object.prototype.toString;function o(t){return"[object Array]"===s.call(t)}function i(t){return void 0===t}function a(t){return null!==t&&"object"==typeof t}function c(t){if("[object Object]"!==s.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function u(t){return"[object Function]"===s.call(t)}function f(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(null,t[s],s,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===s.call(t)},isBuffer:function(t){return null!==t&&!i(t)&&null!==t.constructor&&!i(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isPlainObject:c,isUndefined:i,isDate:function(t){return"[object Date]"===s.call(t)},isFile:function(t){return"[object File]"===s.call(t)},isBlob:function(t){return"[object Blob]"===s.call(t)},isFunction:u,isStream:function(t){return a(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:f,merge:function t(){var e={};function r(r,n){c(e[n])&&c(r)?e[n]=t(e[n],r):c(r)?e[n]=t({},r):o(r)?e[n]=r.slice():e[n]=r}for(var n=0,s=arguments.length;n<s;n++)f(arguments[n],r);return e},extend:function(t,e,r){return f(e,(function(e,s){t[s]=r&&"function"==typeof e?n(e,r):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},function(t,e){t.exports=require("stream")},function(t,e){t.exports=require("zlib")},,,,function(t,e){t.exports=require("url")},,function(t,e){t.exports=require("fs")},,function(t,e){t.exports=require("http")},function(t,e,r){"use strict";const n=r(29),s=r(113);t.exports=function(t,e){return n(t,s,e)}},function(t,e,r){"use strict";t.exports=function(t){return JSON.parse(JSON.stringify(t))}},function(t,e){t.exports=require("https")},function(t,e,r){"use strict";const n=r(29),s=r(114);t.exports=function(t,e){return n(t,s,e)}},function(t,e){t.exports=require("util")},,function(t,e,r){"use strict";var n=r(10);function s(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var o;if(r)o=r(e);else if(n.isURLSearchParams(e))o=e.toString();else{var i=[];n.forEach(e,(function(t,e){null!=t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),i.push(s(e)+"="+s(t))})))})),o=i.join("&")}if(o){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,e,r){"use strict";var n=r(42);t.exports=function(t,e,r,s,o){var i=new Error(t);return n(i,e,r,s,o)}},function(t,e,r){"use strict";t.exports=function t(e,r,n){if("object"!=typeof e||null===e)throw new Error("Non object passed to convertKeys: "+e);if(Array.isArray(e))return e;Array.isArray(n)||(n=[]);for(const s in e)if(e.hasOwnProperty(s)){const o=r(s);"object"==typeof e[s]&&null!==e[s]&&(n.includes(s)||n.includes(o)||(e[s]=t(e[s],r,n))),o!==s&&(e[o]=e[s],delete e[s])}return e}},function(t,e,r){"use strict";const n=r(52);class s{constructor(t){t&&this.fromData(t)}fromData(t){if("string"==typeof t){const[e,r]=n(t);t={name:e,email:r}}if("object"!=typeof t)throw new Error("Expecting object or string for EmailAddress data");const{name:e,email:r}=t;this.setEmail(r),this.setName(e)}setName(t){if(void 0!==t){if("string"!=typeof t)throw new Error("String expected for `name`");this.name=t}}setEmail(t){if(void 0===t)throw new Error("Must provide `email`");if("string"!=typeof t)throw new Error("String expected for `email`");this.email=t}toJSON(){const{email:t,name:e}=this,r={email:t};return""!==e&&(r.name=e),r}static create(t){return Array.isArray(t)?t.filter(t=>!!t).map(t=>this.create(t)):t instanceof s?t:new s(t)}}t.exports=s},,,,,,,function(t,e,r){t.exports=r(81)},function(t,e,r){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,r){"use strict";var n=r(10),s=r(86),o={"Content-Type":"application/x-www-form-urlencoded"};function i(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,c={adapter:("undefined"!=typeof XMLHttpRequest?a=r(87):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(a=r(93)),a),transformRequest:[function(t,e){return s(e,"Accept"),s(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(i(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(i(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),n.forEach(["post","put","patch"],(function(t){c.headers[t]=n.merge(o)})),t.exports=c},function(t,e,r){"use strict";var n=r(28);t.exports=function(t,e,r){var s=r.config.validateStatus;r.status&&s&&!s(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,s){return t.config=e,r&&(t.code=r),t.request=n,t.response=s,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,r){"use strict";var n=r(89),s=r(90);t.exports=function(t,e){return t&&!n(e)?s(t,e):e}},function(t,e,r){var n=r(16),s=n.URL,o=r(20),i=r(23),a=r(11).Writable,c=r(94),u=r(95),f=Object.create(null);["abort","aborted","connect","error","socket","timeout"].forEach((function(t){f[t]=function(e,r,n){this._redirectable.emit(t,e,r,n)}}));var p=E("ERR_FR_REDIRECTION_FAILURE",""),h=E("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),d=E("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),l=E("ERR_STREAM_WRITE_AFTER_END","write after end");function m(t,e){a.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(t){r._processResponse(t)},this._performRequest()}function g(t,e){clearTimeout(t._timeout),t._timeout=setTimeout((function(){t.emit("timeout")}),e)}function y(){clearTimeout(this._timeout)}function b(t){var e={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(t).forEach((function(o){var i=o+":",a=r[i]=t[o],f=e[o]=Object.create(a);Object.defineProperties(f,{request:{value:function(t,o,a){if("string"==typeof t){var f=t;try{t=v(new s(f))}catch(e){t=n.parse(f)}}else s&&t instanceof s?t=v(t):(a=o,o=t,t={protocol:i});return"function"==typeof o&&(a=o,o=null),(o=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},t,o)).nativeProtocols=r,c.equal(o.protocol,i,"protocol mismatch"),u("options",o),new m(o,a)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(t,e,r){var n=f.request(t,e,r);return n.end(),n},configurable:!0,enumerable:!0,writable:!0}})})),e}function w(){}function v(t){var e={protocol:t.protocol,hostname:t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:t.pathname+t.search,href:t.href};return""!==t.port&&(e.port=Number(t.port)),e}function x(t,e){var r;for(var n in e)t.test(n)&&(r=e[n],delete e[n]);return r}function E(t,e){function r(t){Error.captureStackTrace(this,this.constructor),this.message=t||e}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+t+"]",r.prototype.code=t,r}m.prototype=Object.create(a.prototype),m.prototype.write=function(t,e,r){if(this._ending)throw new l;if(!("string"==typeof t||"object"==typeof t&&"length"in t))throw new TypeError("data should be a string, Buffer or Uint8Array");"function"==typeof e&&(r=e,e=null),0!==t.length?this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new d),this.abort()):r&&r()},m.prototype.end=function(t,e,r){if("function"==typeof t?(r=t,t=e=null):"function"==typeof e&&(r=e,e=null),t){var n=this,s=this._currentRequest;this.write(t,e,(function(){n._ended=!0,s.end(null,null,r)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,r)},m.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)},m.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)},m.prototype.setTimeout=function(t,e){if(e&&this.once("timeout",e),this.socket)g(this,t);else{var r=this;this._currentRequest.once("socket",(function(){g(r,t)}))}return this.once("response",y),this.once("error",y),this},["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(t){m.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}})),["aborted","connection","socket"].forEach((function(t){Object.defineProperty(m.prototype,t,{get:function(){return this._currentRequest[t]}})})),m.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}},m.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(e){if(this._options.agents){var r=t.substr(0,t.length-1);this._options.agent=this._options.agents[r]}var s=this._currentRequest=e.request(this._options,this._onNativeResponse);for(var o in this._currentUrl=n.format(this._options),s._redirectable=this,f)o&&s.on(o,f[o]);if(this._isRedirect){var i=0,a=this,c=this._requestBodyBuffers;!function t(e){if(s===a._currentRequest)if(e)a.emit("error",e);else if(i<c.length){var r=c[i++];s.finished||s.write(r.data,r.encoding,t)}else a._ended&&s.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+t))},m.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(r&&!1!==this._options.followRedirects&&e>=300&&e<400){if(this._currentRequest.removeAllListeners(),this._currentRequest.on("error",w),this._currentRequest.abort(),t.destroy(),++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new h);((301===e||302===e)&&"POST"===this._options.method||303===e&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],x(/^content-/i,this._options.headers));var s=x(/^host$/i,this._options.headers)||n.parse(this._currentUrl).hostname,o=n.resolve(this._currentUrl,r);u("redirecting to",o),this._isRedirect=!0;var i=n.parse(o);if(Object.assign(this._options,i),i.hostname!==s&&x(/^authorization$/i,this._options.headers),"function"==typeof this._options.beforeRedirect){var a={headers:t.headers};try{this._options.beforeRedirect.call(null,this._options,a)}catch(t){return void this.emit("error",t)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(t){var c=new p("Redirected request failed: "+t.message);c.cause=t,this.emit("error",c)}}else t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[]},t.exports=b({http:o,https:i}),t.exports.wrap=b},function(t,e,r){var n;function s(t){function r(){if(r.enabled){var t=r,s=+new Date,o=s-(n||s);t.diff=o,t.prev=n,t.curr=s,n=s;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=e.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return r;c++;var s=e.formatters[n];if("function"==typeof s){var o=i[c];r=s.call(t,o),i.splice(c,1),c--}return r})),e.formatArgs.call(t,i);var u=r.log||e.log||console.log.bind(console);u.apply(t,i)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),"function"==typeof e.init&&e.init(r),r}(e=t.exports=s.debug=s.default=s).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var r=("string"==typeof t?t:"").split(/[\s,]+/),n=r.length,s=0;s<n;s++)r[s]&&("-"===(t=r[s].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(98),e.names=[],e.skips=[],e.formatters={}},function(t,e,r){"use strict";var n=r(10);t.exports=function(t,e){e=e||{};var r={},s=["url","method","data"],o=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(t,e){return n.isPlainObject(t)&&n.isPlainObject(e)?n.merge(t,e):n.isPlainObject(e)?n.merge({},e):n.isArray(e)?e.slice():e}function u(s){n.isUndefined(e[s])?n.isUndefined(t[s])||(r[s]=c(void 0,t[s])):r[s]=c(t[s],e[s])}n.forEach(s,(function(t){n.isUndefined(e[t])||(r[t]=c(void 0,e[t]))})),n.forEach(o,u),n.forEach(i,(function(s){n.isUndefined(e[s])?n.isUndefined(t[s])||(r[s]=c(void 0,t[s])):r[s]=c(void 0,e[s])})),n.forEach(a,(function(n){n in e?r[n]=c(t[n],e[n]):n in t&&(r[n]=c(void 0,t[n]))}));var f=s.concat(o).concat(i).concat(a),p=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===f.indexOf(t)}));return n.forEach(p,u),r}},function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,r){"use strict";const{Client:n}=r(108),{classes:{Mail:s}}=r(50);t.exports=class{constructor(){this.setClient(new n),this.setSubstitutionWrappers("{{","}}"),this.secretRules=[]}setClient(t){return this.client=t,this}setApiKey(t){return this.client.setApiKey(t),this}setTwilioEmailAuth(t,e){this.client.setTwilioEmailAuth(t,e)}setTimeout(t){void 0!==t&&this.client.setDefaultRequest("timeout",t)}setSubstitutionWrappers(t,e){if(void 0===t||void 0===e)throw new Error("Must provide both left and right side wrappers");return Array.isArray(this.substitutionWrappers)||(this.substitutionWrappers=[]),this.substitutionWrappers[0]=t,this.substitutionWrappers[1]=e,this}setSecretRules(t){t instanceof Array||(t=[t]);const e=t.map((function(t){const e=typeof t;if("string"===e)return{pattern:new RegExp(t)};if("object"===e){t instanceof RegExp?t={pattern:t}:t.hasOwnProperty("pattern")&&"string"==typeof t.pattern&&(t.pattern=new RegExp(t.pattern));try{return t.pattern.test(""),t}catch(t){}}}));this.secretRules=e.filter((function(t){return t}))}filterSecrets(t){if("object"==typeof t&&!t.hasOwnProperty("content"))return;const e=this;t.content.forEach((function(t){e.secretRules.forEach((function(e){if(e.hasOwnProperty("pattern")&&!e.pattern.test(t.value))return;let r=`The pattern '${e.pattern}'`;throw e.name&&(r+=`identified by '${e.name}'`),r+=" was found in the Mail content!",new Error(r)}))}))}send(t,e=!1,r){if("function"==typeof e&&(r=e,e=!1),Array.isArray(t)){const n=Promise.all(t.map(t=>this.send(t,e)));return r&&n.then(t=>r(null,t)).catch(t=>r(t,null)),n}try{void 0===t.isMultiple&&(t.isMultiple=e),void 0===t.substitutionWrappers&&(t.substitutionWrappers=this.substitutionWrappers);const n=s.create(t).toJSON();this.filterSecrets(n);const o={method:"POST",url:"/v3/mail/send",body:n};return this.client.request(o,r)}catch(t){return r&&r(t,null),Promise.reject(t)}}sendMultiple(t,e){return this.send(t,!0,e)}}},function(t,e,r){"use strict";const n=r(37),s=r(110),{helpers:{mergeData:o},classes:{Response:i,ResponseError:a}}=r(50);t.exports=class{constructor(){this.auth="",this.impersonateSubuser="",this.defaultHeaders={Accept:"application/json","Content-Type":"application/json","User-Agent":"sendgrid/"+s.version+";nodejs"},this.defaultRequest={baseUrl:"https://api.sendgrid.com/",url:"",method:"GET",headers:{},maxContentLength:1/0,maxBodyLength:1/0}}setApiKey(t){this.auth="Bearer "+t,this.setDefaultRequest("baseUrl","https://api.sendgrid.com/"),this.isValidApiKey(t)||console.warn('API key does not start with "SG.".')}setTwilioEmailAuth(t,e){const r=Buffer.from(t+":"+e).toString("base64");this.auth="Basic "+r,this.setDefaultRequest("baseUrl","https://email.twilio.com/"),this.isValidTwilioAuth(t,e)||console.warn("Twilio Email credentials must be non-empty strings.")}isValidApiKey(t){return this.isString(t)&&t.trim().startsWith("SG.")}isValidTwilioAuth(t,e){return this.isString(t)&&t&&this.isString(e)&&e}isString(t){return"string"==typeof t||t instanceof String}setImpersonateSubuser(t){this.impersonateSubuser=t}setDefaultHeader(t,e){return null!==t&&"object"==typeof t?(Object.assign(this.defaultHeaders,t),this):(this.defaultHeaders[t]=e,this)}setDefaultRequest(t,e){return null!==t&&"object"==typeof t?(Object.assign(this.defaultRequest,t),this):(this.defaultRequest[t]=e,this)}createHeaders(t){const e=o(this.defaultHeaders,t);return void 0===e.Authorization&&this.auth&&(e.Authorization=this.auth),this.impersonateSubuser&&(e["On-Behalf-Of"]=this.impersonateSubuser),e}createRequest(t){let e={url:t.uri||t.url,baseUrl:t.baseUrl,method:t.method,data:t.body,params:t.qs,headers:t.headers};return e=o(this.defaultRequest,e),e.headers=this.createHeaders(e.headers),e.baseURL=e.baseUrl,delete e.baseUrl,e}request(t,e){t=this.createRequest(t);const r=new Promise((e,r)=>{n(t).then(t=>e([new i(t.status,t.data,t.headers),t.data])).catch(t=>t.response&&t.response.status>=400?r(new a(t.response)):r(t))});if(e&&"function"!=typeof e)throw new Error("Callback passed is not a function.");return e?r.then(t=>e(null,t)).catch(t=>e(t,null)):r}}},function(t,e,r){"use strict";const n=r(111),s=r(122);t.exports={classes:n,helpers:s}},function(t,e){t.exports=require("path")},function(t,e,r){"use strict";t.exports=function(t){if(-1===t.indexOf("<"))return["",t];let[e,r]=t.split("<");return e=e.trim(),r=r.replace(">","").trim(),[e,r]}},function(t,e,r){"use strict";const n=r(30),s=r(21),o=r(24),i=r(22),a=r(116),c=r(54);t.exports=class{constructor(t){this.to=[],this.cc=[],this.bcc=[],this.headers={},this.customArgs={},this.substitutions={},this.substitutionWrappers=["{{","}}"],this.dynamicTemplateData={},t&&this.fromData(t)}fromData(t){if("object"!=typeof t)throw new Error("Expecting object for Mail data");t=i(t),t=s(t,["substitutions","dynamicTemplateData","customArgs","headers"]);const{to:e,cc:r,bcc:n,subject:o,headers:a,customArgs:c,sendAt:u,substitutions:f,substitutionWrappers:p,dynamicTemplateData:h}=t;this.setTo(e),this.setCc(r),this.setBcc(n),this.setSubject(o),this.setHeaders(a),this.setSubstitutions(f),this.setSubstitutionWrappers(p),this.setCustomArgs(c),this.setDynamicTemplateData(h),this.setSendAt(u)}setSubject(t){if(void 0!==t){if("string"!=typeof t)throw new Error("String expected for `subject`");this.subject=t}}setSendAt(t){if(void 0!==t){if(!Number.isInteger(t))throw new Error("Integer expected for `sendAt`");this.sendAt=t}}setTo(t){void 0!==t&&(Array.isArray(t)||(t=[t]),this.to=n.create(t))}addTo(t){void 0!==t&&this.to.push(n.create(t))}setCc(t){void 0!==t&&(Array.isArray(t)||(t=[t]),this.cc=n.create(t))}addCc(t){void 0!==t&&this.cc.push(n.create(t))}setBcc(t){void 0!==t&&(Array.isArray(t)||(t=[t]),this.bcc=n.create(t))}addBcc(t){void 0!==t&&this.bcc.push(n.create(t))}setHeaders(t){if(void 0!==t){if("object"!=typeof t||null===t)throw new Error("Object expected for `headers`");this.headers=t}}addHeader(t,e){if("string"!=typeof t)throw new Error("String expected for header key");if("string"!=typeof e)throw new Error("String expected for header value");this.headers[t]=e}setCustomArgs(t){if(void 0!==t){if("object"!=typeof t||null===t)throw new Error("Object expected for `customArgs`");this.customArgs=t}}addCustomArg(t,e){if("string"!=typeof t)throw new Error("String expected for custom arg key");if("string"!=typeof e)throw new Error("String expected for custom arg value");this.customArgs[t]=e}setSubstitutions(t){if(void 0!==t){if("object"!=typeof t)throw new Error("Object expected for `substitutions`");this.substitutions=t}}addSubstitution(t,e){if("string"!=typeof t)throw new Error("String expected for substitution key");if("string"!=typeof e&&"number"!=typeof e)throw new Error("String or Number expected for substitution value");this.substitutions[t]=e}reverseMergeSubstitutions(t){if(null!=t){if("object"!=typeof t)throw new Error("Object expected for `substitutions` in reverseMergeSubstitutions");this.substitutions=Object.assign({},t,this.substitutions)}}setSubstitutionWrappers(t){if(null!=t){if(!Array.isArray(t)||2!==t.length)throw new Error("Array expected with two elements for `substitutionWrappers`");this.substitutionWrappers=t}}deepMergeDynamicTemplateData(t){if(null!=t){if("object"!=typeof t)throw new Error("Object expected for `dynamicTemplateData` in deepMergeDynamicTemplateData");this.dynamicTemplateData=a(t,this.dynamicTemplateData)}}setDynamicTemplateData(t){if(void 0!==t){if("object"!=typeof t)throw new Error("Object expected for `dynamicTemplateData`");this.dynamicTemplateData=t}}toJSON(){const{to:t,cc:e,bcc:r,subject:n,headers:s,customArgs:i,sendAt:a,substitutions:u,substitutionWrappers:f,dynamicTemplateData:p}=this,h={to:t};if(Array.isArray(e)&&e.length>0&&(h.cc=e),Array.isArray(r)&&r.length>0&&(h.bcc=r),Object.keys(s).length>0&&(h.headers=s),u&&Object.keys(u).length>0){const[t,e]=f;h.substitutions=c(u,t,e)}return Object.keys(i).length>0&&(h.customArgs=i),p&&Object.keys(p).length>0&&(h.dynamicTemplateData=p),void 0!==n&&(h.subject=n),void 0!==a&&(h.sendAt=a),o(h,["substitutions","dynamicTemplateData","customArgs","headers"])}}},function(t,e,r){"use strict";t.exports=function t(e,r="{{",n="}}"){if(Array.isArray(e))return e.map(e=>t(e,r,n));const s={};for(const t in e)e.hasOwnProperty(t)&&(s[r+t+n]=String(e[t]));return s}},function(t,e,r){"use strict";t.exports=function(t){return t.map(t=>"object"==typeof t&&null!==t&&"function"==typeof t.toJSON?t.toJSON():t)}},,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){const n=r(37),s=r(106);function o(t,e,r,n,s,o){const u=function(t,e,r,n,s,o){return new Promise((a,u)=>{const f=function(t,e,r,n,s){return{from:{email:t,name:e},subject:"Netlify Function - Sendgrid Email",to:r.email,bcc:c,templateId:"d-7cd54123ce274fb7b8d6ba2e0eed9ff4",dynamicTemplateData:{firstName:r.firstName,betong:Math.round(s.donationSum/180*10)/10,dansgolv:Math.round(s.donationSum/4815*10)/10,procent:Math.round(s.donationSum/65e5*10)/10},attachments:[i(n,r)]}}(e,r,n,s,o);t.send(f).then(([t,e])=>{a(t)}).catch(t=>u(t))})}(t,e,r,s,n,o),f=function(t,e,r,n,s,o){return new Promise((u,f)=>{const p=function(t,e,r,n,s){return{from:{email:t,name:e},subject:"Kopia av donationsbrev och formulÃ¤rdatan",to:c,templateId:"d-7cd54123ce274fb7b8d6ba2e0eed9ff4",dynamicTemplateData:{firstName:r.firstName,betong:Math.round(s.donationSum/180*10)/10,dansgolv:Math.round(s.donationSum/4815*10)/10,procent:Math.round(s.donationSum/65e5*10)/10},attachments:[i(n,r),a(s)]}}(e,r,n,s,o);t.send(p).then(([t,e])=>{u(t)}).catch(t=>f(t))})}(t,e,r,s,n,o);return Promise.all([u,f])}function i(t,e){return{content:t,filename:"donationsbrev-"+e.firstName+"-"+e.lastName+".pdf",type:"application/pdf",disposition:"attachment"}}function a(t){return{content:Buffer.from(JSON.stringify(t)).toString("base64"),filename:"donation-form.json",type:"application/json",disposition:"attachment"}}r(124).config();const c="donation@tf.fi";e.handler=function(t,e,r){const{SENDGRID_API_KEY:i,SENDGRID_SENDER_EMAIL:a,SENDGRID_SENDER_NAME:c}=process.env,u=JSON.parse(t.body),f=u.pdf,p=u.contactPerson,h=u.formData;console.log("first hello"),console.log("second hello"),s.setApiKey(i),function(t,e){console.log("Persisting donation",e);const{DONATIONDB_URL:r,DONATIONDB_API_KEY:s}=process.env;return n.post(r+"/donations/new/",{apiKey:s,pdf:t,formData:e})}(f,h).then(()=>o(s,a,c,f,p,h)).then(()=>r(null,{statusCode:200,body:"Emails sent and form data persisted"})).catch(t=>r(t,null))}},function(t,e,r){"use strict";var n=r(10),s=r(38),o=r(82),i=r(46);function a(t){var e=new o(t),r=s(o.prototype.request,e);return n.extend(r,o.prototype,e),n.extend(r,e),r}var c=a(r(40));c.Axios=o,c.create=function(t){return a(i(c.defaults,t))},c.Cancel=r(47),c.CancelToken=r(103),c.isCancel=r(39),c.all=function(t){return Promise.all(t)},c.spread=r(104),c.isAxiosError=r(105),t.exports=c,t.exports.default=c},function(t,e,r){"use strict";var n=r(10),s=r(27),o=r(83),i=r(84),a=r(46);function c(t){this.defaults=t,this.interceptors={request:new o,response:new o}}c.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[i,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)r=r.then(e.shift(),e.shift());return r},c.prototype.getUri=function(t){return t=a(this.defaults,t),s(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(t){c.prototype[t]=function(e,r){return this.request(a(r||{},{method:t,url:e,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(t){c.prototype[t]=function(e,r,n){return this.request(a(n||{},{method:t,url:e,data:r}))}})),t.exports=c},function(t,e,r){"use strict";var n=r(10);function s(){this.handlers=[]}s.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},s.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},s.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=s},function(t,e,r){"use strict";var n=r(10),s=r(85),o=r(39),i=r(40);function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return a(t),t.headers=t.headers||{},t.data=s(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||i.adapter)(t).then((function(e){return a(t),e.data=s(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(a(t),e&&e.response&&(e.response.data=s(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,r){"use strict";var n=r(10);t.exports=function(t,e,r){return n.forEach(r,(function(r){t=r(t,e)})),t}},function(t,e,r){"use strict";var n=r(10);t.exports=function(t,e){n.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))}},function(t,e,r){"use strict";var n=r(10),s=r(41),o=r(88),i=r(27),a=r(43),c=r(91),u=r(92),f=r(28);t.exports=function(t){return new Promise((function(e,r){var p=t.data,h=t.headers;n.isFormData(p)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var l=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";h.Authorization="Basic "+btoa(l+":"+m)}var g=a(t.baseURL,t.url);if(d.open(t.method.toUpperCase(),i(g,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?c(d.getAllResponseHeaders()):null,o={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:t,request:d};s(e,r,o),d=null}},d.onabort=function(){d&&(r(f("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){r(f("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(f(e,t,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var y=(t.withCredentials||u(g))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;y&&(h[t.xsrfHeaderName]=y)}if("setRequestHeader"in d&&n.forEach(h,(function(t,e){void 0===p&&"content-type"===e.toLowerCase()?delete h[e]:d.setRequestHeader(e,t)})),n.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),r(t),d=null)})),p||(p=null),d.send(p)}))}},function(t,e,r){"use strict";var n=r(10);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,s,o,i){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(s)&&a.push("path="+s),n.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,r){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,r){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,r){"use strict";var n=r(10),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,o,i={};return t?(n.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),r=n.trim(t.substr(o+1)),e){if(i[e]&&s.indexOf(e)>=0)return;i[e]="set-cookie"===e?(i[e]?i[e]:[]).concat([r]):i[e]?i[e]+", "+r:r}})),i):i}},function(t,e,r){"use strict";var n=r(10);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function s(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=s(window.location.href),function(e){var r=n.isString(e)?s(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},function(t,e,r){"use strict";var n=r(10),s=r(41),o=r(43),i=r(27),a=r(20),c=r(23),u=r(44).http,f=r(44).https,p=r(16),h=r(12),d=r(102),l=r(28),m=r(42),g=/https:?/;t.exports=function(t){return new Promise((function(e,r){var y=function(t){e(t)},b=function(t){r(t)},w=t.data,v=t.headers;if(v["User-Agent"]||v["user-agent"]||(v["User-Agent"]="axios/"+d.version),w&&!n.isStream(w)){if(Buffer.isBuffer(w));else if(n.isArrayBuffer(w))w=Buffer.from(new Uint8Array(w));else{if(!n.isString(w))return b(l("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",t));w=Buffer.from(w,"utf-8")}v["Content-Length"]=w.length}var x=void 0;t.auth&&(x=(t.auth.username||"")+":"+(t.auth.password||""));var E=o(t.baseURL,t.url),A=p.parse(E),S=A.protocol||"http:";if(!x&&A.auth){var _=A.auth.split(":");x=(_[0]||"")+":"+(_[1]||"")}x&&delete v.Authorization;var j=g.test(S),T=j?t.httpsAgent:t.httpAgent,k={path:i(A.path,t.params,t.paramsSerializer).replace(/^\?/,""),method:t.method.toUpperCase(),headers:v,agent:T,agents:{http:t.httpAgent,https:t.httpsAgent},auth:x};t.socketPath?k.socketPath=t.socketPath:(k.hostname=A.hostname,k.port=A.port);var O,D=t.proxy;if(!D&&!1!==D){var C=S.slice(0,-1)+"_proxy",R=process.env[C]||process.env[C.toUpperCase()];if(R){var P=p.parse(R),N=process.env.no_proxy||process.env.NO_PROXY,B=!0;if(N)B=!N.split(",").map((function(t){return t.trim()})).some((function(t){return!!t&&("*"===t||("."===t[0]&&A.hostname.substr(A.hostname.length-t.length)===t||A.hostname===t))}));if(B&&(D={host:P.hostname,port:P.port,protocol:P.protocol},P.auth)){var M=P.auth.split(":");D.auth={username:M[0],password:M[1]}}}}D&&(k.headers.host=A.hostname+(A.port?":"+A.port:""),function t(e,r,n){if(e.hostname=r.host,e.host=r.host,e.port=r.port,e.path=n,r.auth){var s=Buffer.from(r.auth.username+":"+r.auth.password,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+s}e.beforeRedirect=function(e){e.headers.host=e.host,t(e,r,e.href)}}(k,D,S+"//"+A.hostname+(A.port?":"+A.port:"")+k.path));var U=j&&(!D||g.test(D.protocol));t.transport?O=t.transport:0===t.maxRedirects?O=U?c:a:(t.maxRedirects&&(k.maxRedirects=t.maxRedirects),O=U?f:u),t.maxBodyLength>-1&&(k.maxBodyLength=t.maxBodyLength);var q=O.request(k,(function(e){if(!q.aborted){var r=e,o=e.req||q;if(204!==e.statusCode&&"HEAD"!==o.method&&!1!==t.decompress)switch(e.headers["content-encoding"]){case"gzip":case"compress":case"deflate":r=r.pipe(h.createUnzip()),delete e.headers["content-encoding"]}var i={status:e.statusCode,statusText:e.statusMessage,headers:e.headers,config:t,request:o};if("stream"===t.responseType)i.data=r,s(y,b,i);else{var a=[];r.on("data",(function(e){a.push(e),t.maxContentLength>-1&&Buffer.concat(a).length>t.maxContentLength&&(r.destroy(),b(l("maxContentLength size of "+t.maxContentLength+" exceeded",t,null,o)))})),r.on("error",(function(e){q.aborted||b(m(e,t,null,o))})),r.on("end",(function(){var e=Buffer.concat(a);"arraybuffer"!==t.responseType&&(e=e.toString(t.responseEncoding),t.responseEncoding&&"utf8"!==t.responseEncoding||(e=n.stripBOM(e))),i.data=e,s(y,b,i)}))}}}));q.on("error",(function(e){q.aborted&&"ERR_FR_TOO_MANY_REDIRECTS"!==e.code||b(m(e,t,null,q))})),t.timeout&&q.setTimeout(t.timeout,(function(){q.abort(),b(l("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",q))})),t.cancelToken&&t.cancelToken.promise.then((function(t){q.aborted||(q.abort(),b(t))})),n.isStream(w)?w.on("error",(function(e){b(m(e,t,null,q))})).pipe(q):q.end(w)}))}},function(t,e){t.exports=require("assert")},function(t,e,r){var n;t.exports=function(){if(!n)try{n=r(96)("follow-redirects")}catch(t){n=function(){}}n.apply(null,arguments)}},function(t,e,r){"undefined"!=typeof process&&"renderer"===process.type?t.exports=r(97):t.exports=r(99)},function(t,e,r){function n(){var t;try{t=e.storage.debug}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(e=t.exports=r(45)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var s=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(s++,"%c"===t&&(o=s))})),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=n,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(n())},function(t,e){var r=1e3,n=6e4,s=60*n,o=24*s;function i(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}t.exports=function(t,e){e=e||{};var a,c=typeof t;if("string"===c&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var i=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"days":case"day":case"d":return i*o;case"hours":case"hour":case"hrs":case"hr":case"h":return i*s;case"minutes":case"minute":case"mins":case"min":case"m":return i*n;case"seconds":case"second":case"secs":case"sec":case"s":return i*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}(t);if("number"===c&&!1===isNaN(t))return e.long?i(a=t,o,"day")||i(a,s,"hour")||i(a,n,"minute")||i(a,r,"second")||a+" ms":function(t){if(t>=o)return Math.round(t/o)+"d";if(t>=s)return Math.round(t/s)+"h";if(t>=n)return Math.round(t/n)+"m";if(t>=r)return Math.round(t/r)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,r){var n=r(100),s=r(25);(e=t.exports=r(45)).init=function(t){t.inspectOpts={};for(var r=Object.keys(e.inspectOpts),n=0;n<r.length;n++)t.inspectOpts[r[n]]=e.inspectOpts[r[n]]},e.log=function(){return i.write(s.format.apply(s,arguments)+"\n")},e.formatArgs=function(t){var r=this.namespace;if(this.useColors){var n=this.color,s="  [3"+n+";1m"+r+" [0m";t[0]=s+t[0].split("\n").join("\n"+s),t.push("[3"+n+"m+"+e.humanize(this.diff)+"[0m")}else t[0]=(new Date).toUTCString()+" "+r+" "+t[0]},e.save=function(t){null==t?delete process.env.DEBUG:process.env.DEBUG=t},e.load=a,e.useColors=function(){return"colors"in e.inspectOpts?Boolean(e.inspectOpts.colors):n.isatty(o)},e.colors=[6,2,3,4,5,1],e.inspectOpts=Object.keys(process.env).filter((function(t){return/^debug_/i.test(t)})).reduce((function(t,e){var r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(function(t,e){return e.toUpperCase()})),n=process.env[e];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),t[r]=n,t}),{});var o=parseInt(process.env.DEBUG_FD,10)||2;1!==o&&2!==o&&s.deprecate((function(){}),"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var i=1===o?process.stdout:2===o?process.stderr:function(t){var e;switch(process.binding("tty_wrap").guessHandleType(t)){case"TTY":(e=new n.WriteStream(t))._type="tty",e._handle&&e._handle.unref&&e._handle.unref();break;case"FILE":var s=r(18);(e=new s.SyncWriteStream(t,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":var o=r(101);(e=new o.Socket({fd:t,readable:!1,writable:!0})).readable=!1,e.read=null,e._type="pipe",e._handle&&e._handle.unref&&e._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return e.fd=t,e._isStdio=!0,e}(o);function a(){return process.env.DEBUG}e.formatters.o=function(t){return this.inspectOpts.colors=this.useColors,s.inspect(t,this.inspectOpts).split("\n").map((function(t){return t.trim()})).join(" ")},e.formatters.O=function(t){return this.inspectOpts.colors=this.useColors,s.inspect(t,this.inspectOpts)},e.enable(a())},function(t,e){t.exports=require("tty")},function(t,e){t.exports=require("net")},function(t){t.exports=JSON.parse('{"name":"axios","version":"0.21.1","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test && bundlesize","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://github.com/axios/axios","devDependencies":{"bundlesize":"^0.17.0","coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^5.2.0","sinon":"^4.5.0","typescript":"^2.8.1","url-search-params":"^0.10.0","webpack":"^1.13.1","webpack-dev-server":"^1.14.1"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.10.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},function(t,e,r){"use strict";var n=r(47);function s(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;t((function(t){r.reason||(r.reason=new n(t),e(r.reason))}))}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.source=function(){var t;return{token:new s((function(e){t=e})),cancel:t}},t.exports=s},function(t,e,r){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,r){"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},function(t,e,r){"use strict";const n=r(107),s=r(48);t.exports=n,t.exports.MailService=s},function(t,e,r){"use strict";const n=r(48);t.exports=new n},function(t,e,r){"use strict";const n=r(109),s=r(49);t.exports=n,t.exports.Client=s},function(t,e,r){"use strict";const n=r(49);t.exports=new n},function(t){t.exports=JSON.parse('{"name":"@sendgrid/client","description":"Twilio SendGrid NodeJS API client","version":"7.4.2","author":"Twilio SendGrid <help@twilio.com> (sendgrid.com)","contributors":["Kyle Partridge <kyle.partridge@sendgrid.com>","David Tomberlin <david.tomberlin@sendgrid.com>","Swift <swift@sendgrid.com>","Brandon West <brandon.west@sendgrid.com>","Scott Motte <scott.motte@sendgrid.com>","Robert Acosta <robert.acosta@sendgrid.com>","Elmer Thomas <ethomas@twilio.com>","Adam Reis <adam@reis.nz>"],"license":"MIT","homepage":"https://sendgrid.com","repository":{"type":"git","url":"git://github.com/sendgrid/sendgrid-nodejs.git"},"publishConfig":{"access":"public"},"main":"index.js","engines":{"node":"6.* || 8.* || >=10.*"},"dependencies":{"@sendgrid/helpers":"^7.4.2","axios":"^0.21.1"},"devDependencies":{"nock":"^10.0.6"},"tags":["http","rest","api","mail","sendgrid"],"gitHead":"b2a7be0bd10ad3de154b4160a65e6c9f9b745094"}')},function(t,e,r){"use strict";const n=r(112),s=r(30),o=r(115),i=r(53),a=r(119),c=r(120),u=r(121);t.exports={Attachment:n,EmailAddress:s,Mail:o,Personalization:i,Response:a,ResponseError:c,Statistics:u}},function(t,e,r){"use strict";const n=r(21),s=r(24),o=r(22),i=r(18),a=r(51);t.exports=class{constructor(t){t&&this.fromData(t)}fromData(t){if("object"!=typeof t)throw new Error("Expecting object for Mail data");t=o(t),t=n(t);const{content:e,filename:r,type:s,disposition:i,contentId:a,filePath:c}=t;if(void 0!==e&&void 0!==c)throw new Error("The props 'content' and 'filePath' cannot be used together.");this.setFilename(r),this.setType(s),this.setDisposition(i),this.setContentId(a),this.setContent(c?this.readFile(c):e)}readFile(t){return i.readFileSync(a.resolve(t))}setContent(t){if("string"!=typeof t){if(t instanceof Buffer&&void 0!==t.toString)return this.content=t.toString(),void("attachment"===this.disposition&&(this.content=t.toString("base64")));throw new Error("`content` expected to be either Buffer or string")}this.content=t}setFileContent(t){if(!(t instanceof Buffer&&void 0!==t.toString))throw new Error("`content` expected to be Buffer");this.content=t.toString("base64")}setFilename(t){if(void 0!==t){if(t&&"string"!=typeof t)throw new Error("String expected for `filename`");this.filename=t}}setType(t){if(void 0!==t){if("string"!=typeof t)throw new Error("String expected for `type`");this.type=t}}setDisposition(t){if(void 0!==t){if("string"!=typeof t)throw new Error("String expected for `disposition`");this.disposition=t}}setContentId(t){if(void 0!==t){if("string"!=typeof t)throw new Error("String expected for `contentId`");this.contentId=t}}toJSON(){const{content:t,filename:e,type:r,disposition:n,contentId:o}=this,i={content:t,filename:e};return void 0!==r&&(i.type=r),void 0!==n&&(i.disposition=n),void 0!==o&&(i.contentId=o),s(i)}}},function(t,e,r){"use strict";t.exports=function(t){if("string"!=typeof t)throw new Error("String expected for conversion to snake case");return t.trim().replace(/_+|\-+/g," ").replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(function(t,e){return 0===Number(t)?"":0===e?t.toLowerCase():t.toUpperCase()}))}},function(t,e,r){"use strict";t.exports=function(t){if("string"!=typeof t)throw new Error("String expected for conversion to snake case");return t.trim().replace(/(\s*\-*\b\w|[A-Z])/g,(function(t){return("_"===(t=t.trim().toLowerCase().replace("-",""))[0]?"":"_")+t})).slice(1)}},function(t,e,r){"use strict";const n=r(30),s=r(53),o=r(21),i=r(24),a=r(22),c=r(55),{DYNAMIC_TEMPLATE_CHAR_WARNING:u}=r(117),{validateMailSettings:f,validateTrackingSettings:p}=r(118);class h{constructor(t){this.isDynamic=!1,this.hideWarnings=!1,this.personalizations=[],this.attachments=[],this.content=[],this.categories=[],this.headers={},this.sections={},this.customArgs={},this.trackingSettings={},this.mailSettings={},this.asm={},this.substitutions=null,this.substitutionWrappers=null,this.dynamicTemplateData=null,t&&this.fromData(t)}fromData(t){if("object"!=typeof t)throw new Error("Expecting object for Mail data");t=a(t),t=o(t,["substitutions","dynamicTemplateData","customArgs","headers","sections"]);const{to:e,from:r,replyTo:n,cc:s,bcc:i,sendAt:c,subject:u,text:f,html:p,content:h,templateId:d,personalizations:l,attachments:m,ipPoolName:g,batchId:y,sections:b,headers:w,categories:v,category:x,customArgs:E,asm:A,mailSettings:S,trackingSettings:_,substitutions:j,substitutionWrappers:T,dynamicTemplateData:k,isMultiple:O,hideWarnings:D}=t;this.setFrom(r),this.setReplyTo(n),this.setSubject(u),this.setSendAt(c),this.setTemplateId(d),this.setBatchId(y),this.setIpPoolName(g),this.setAttachments(m),this.setContent(h),this.setSections(b),this.setHeaders(w),this.setCategories(x),this.setCategories(v),this.setCustomArgs(E),this.setAsm(A),this.setMailSettings(S),this.setTrackingSettings(_),this.setHideWarnings(D),this.isDynamic?this.setDynamicTemplateData(k):(this.setSubstitutions(j),this.setSubstitutionWrappers(T)),this.addTextContent(f),this.addHtmlContent(p),l?this.setPersonalizations(l):O&&Array.isArray(e)?e.forEach(t=>this.addTo(t,s,i)):this.addTo(e,s,i)}setFrom(t){if(this._checkProperty("from",t,[this._checkUndefined])){if("string"!=typeof t&&"string"!=typeof t.email)throw new Error("String or address object expected for `from`");this.from=n.create(t)}}setReplyTo(t){if(this._checkProperty("replyTo",t,[this._checkUndefined])){if("string"!=typeof t&&"string"!=typeof t.email)throw new Error("String or address object expected for `replyTo`");this.replyTo=n.create(t)}}setSubject(t){this._setProperty("subject",t,"string")}setSendAt(t){this._checkProperty("sendAt",t,[this._checkUndefined,this._createCheckThatThrows(Number.isInteger,"Integer expected for `sendAt`")])&&(this.sendAt=t)}setTemplateId(t){this._setProperty("templateId",t,"string")&&0===t.indexOf("d-")&&(this.isDynamic=!0)}setBatchId(t){this._setProperty("batchId",t,"string")}setIpPoolName(t){this._setProperty("ipPoolName",t,"string")}setAsm(t){if(this._checkProperty("asm",t,[this._checkUndefined,this._createTypeCheck("object")])){if("number"!=typeof t.groupId)throw new Error("Expected `asm` to include an integer in its `groupId` field");if(t.groupsToDisplay&&(!Array.isArray(t.groupsToDisplay)||!t.groupsToDisplay.every(t=>"number"==typeof t)))throw new Error("Array of integers expected for `asm.groupsToDisplay`");this.asm=t}}setPersonalizations(t){if(this._doArrayCheck("personalizations",t)){if(!t.every(t=>"object"==typeof t))throw new Error("Array of objects expected for `personalizations`");this.personalizations=[],t.forEach(t=>this.addPersonalization(t))}}addPersonalization(t){this.isDynamic&&t.substitutions?delete t.substitutions:!this.isDynamic&&t.dynamicTemplateData&&delete t.dynamicTemplateData,t instanceof s||(t=new s(t)),this.isDynamic?this.applyDynamicTemplateData(t):this.applySubstitutions(t),this.personalizations.push(t)}addTo(t,e,r){if(void 0===t&&void 0===e&&void 0===r)throw new Error("Provide at least one of to, cc or bcc");this.addPersonalization(new s({to:t,cc:e,bcc:r}))}setSubstitutions(t){this._setProperty("substitutions",t,"object")}setSubstitutionWrappers(t){this._checkProperty("substitutionWrappers",t,[this._checkUndefined,(t,e)=>{if(!Array.isArray(e)||2!==e.length)throw new Error("Array expected with two elements for `"+t+"`")}])&&(this.substitutionWrappers=t)}applySubstitutions(t){t instanceof s&&(t.reverseMergeSubstitutions(this.substitutions),t.setSubstitutionWrappers(this.substitutionWrappers))}applyDynamicTemplateData(t){t instanceof s&&t.deepMergeDynamicTemplateData(this.dynamicTemplateData)}setDynamicTemplateData(t){if(void 0!==t){if("object"!=typeof t)throw new Error("Object expected for `dynamicTemplateData`");this.hideWarnings||Object.values(t).forEach(t=>{/['"&]/.test(t)&&console.warn(u)}),this.dynamicTemplateData=t}}setContent(t){if(this._doArrayCheck("content",t)){if(!t.every(t=>"object"==typeof t))throw new Error("Expected each entry in `content` to be an object");if(!t.every(t=>"string"==typeof t.type))throw new Error("Expected each `content` entry to contain a `type` string");if(!t.every(t=>"string"==typeof t.value))throw new Error("Expected each `content` entry to contain a `value` string");this.content=t}}addContent(t){this._checkProperty("content",t,[this._createTypeCheck("object")])&&this.content.push(t)}addTextContent(t){this._checkProperty("text",t,[this._checkUndefined,this._createTypeCheck("string")])&&this.addContent({value:t,type:"text/plain"})}addHtmlContent(t){this._checkProperty("html",t,[this._checkUndefined,this._createTypeCheck("string")])&&this.addContent({value:t,type:"text/html"})}setAttachments(t){if(this._doArrayCheck("attachments",t)){if(!t.every(t=>"string"==typeof t.content))throw new Error("Expected each attachment to contain a `content` string");if(!t.every(t=>"string"==typeof t.filename))throw new Error("Expected each attachment to contain a `filename` string");if(!t.every(t=>!t.type||"string"==typeof t.type))throw new Error("Expected the attachment's `type` field to be a string");if(!t.every(t=>!t.disposition||"string"==typeof t.disposition))throw new Error("Expected the attachment's `disposition` field to be a string");this.attachments=t}}addAttachment(t){this._checkProperty("attachment",t,[this._checkUndefined,this._createTypeCheck("object")])&&this.attachments.push(t)}setCategories(t){"string"==typeof t&&(t=[t]),this._checkProperty("categories",t,[this._checkUndefined,(t,e)=>{if(!Array.isArray(e)||!e.every(t=>"string"==typeof t))throw new Error("Array of strings expected for `"+t+"`")}])&&(this.categories=t)}addCategory(t){this._checkProperty("category",t,[this._createTypeCheck("string")])&&this.categories.push(t)}setHeaders(t){this._setProperty("headers",t,"object")}addHeader(t,e){this._checkProperty("key",t,[this._createTypeCheck("string")])&&this._checkProperty("value",e,[this._createTypeCheck("string")])&&(this.headers[t]=e)}setSections(t){this._setProperty("sections",t,"object")}setCustomArgs(t){this._setProperty("customArgs",t,"object")}setTrackingSettings(t){void 0!==t&&(p(t),this.trackingSettings=t)}setMailSettings(t){void 0!==t&&(f(t),this.mailSettings=t)}setHideWarnings(t){if(void 0!==t){if("boolean"!=typeof t)throw new Error("Boolean expected for `hideWarnings`");this.hideWarnings=t}}toJSON(){const{from:t,replyTo:e,sendAt:r,subject:n,content:s,templateId:o,personalizations:a,attachments:u,ipPoolName:f,batchId:p,asm:h,sections:d,headers:l,categories:m,customArgs:g,mailSettings:y,trackingSettings:b}=this,w={from:t,subject:n,personalizations:c(a)};return Array.isArray(u)&&u.length>0&&(w.attachments=c(u)),Array.isArray(m)&&m.length>0&&(w.categories=m.filter(t=>""!==t)),Array.isArray(s)&&s.length>0&&(w.content=c(s)),Object.keys(l).length>0&&(w.headers=l),Object.keys(y).length>0&&(w.mailSettings=y),Object.keys(b).length>0&&(w.trackingSettings=b),Object.keys(g).length>0&&(w.customArgs=g),Object.keys(d).length>0&&(w.sections=d),Object.keys(h).length>0&&(w.asm=h),void 0!==e&&(w.replyTo=e),void 0!==r&&(w.sendAt=r),void 0!==p&&(w.batchId=p),void 0!==o&&(w.templateId=o),void 0!==f&&(w.ipPoolName=f),i(w,["substitutions","dynamicTemplateData","customArgs","headers","sections"])}static create(t){return Array.isArray(t)?t.filter(t=>!!t).map(t=>this.create(t)):t instanceof h?t:new h(t)}_checkProperty(t,e,r){return!r.some(r=>r(t,e))}_setProperty(t,e,r){let n=this._checkProperty(t,e,[this._checkUndefined,this._createTypeCheck(r)]);return n&&(this[t]=e),n}_checkUndefined(t,e){return void 0===e}_createTypeCheck(t){return(e,r)=>{if(typeof r!==t)throw new Error(t+" expected for `"+e+"`")}}_createCheckThatThrows(t,e){return(r,n)=>{if(!t(n))throw new Error(e)}}_setArrayProperty(t,e){this._doArrayCheck(t,e)&&(this[t]=e)}_doArrayCheck(t,e){return this._checkProperty(t,e,[this._checkUndefined,this._createCheckThatThrows(Array.isArray,"Array expected for`"+t+"`")])}}t.exports=h},function(t,e,r){"use strict";var n=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===s}(t)}(t)};var s="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(t,e){return!1!==e.clone&&e.isMergeableObject(t)?f((r=t,Array.isArray(r)?[]:{}),t,e):t;var r}function i(t,e,r){return t.concat(e).map((function(t){return o(t,r)}))}function a(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function c(t,e){try{return e in t}catch(t){return!1}}function u(t,e,r){var n={};return r.isMergeableObject(t)&&a(t).forEach((function(e){n[e]=o(t[e],r)})),a(e).forEach((function(s){(function(t,e){return c(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,s)||(c(t,s)&&r.isMergeableObject(e[s])?n[s]=function(t,e){if(!e.customMerge)return f;var r=e.customMerge(t);return"function"==typeof r?r:f}(s,r)(t[s],e[s],r):n[s]=o(e[s],r))})),n}function f(t,e,r){(r=r||{}).arrayMerge=r.arrayMerge||i,r.isMergeableObject=r.isMergeableObject||n,r.cloneUnlessOtherwiseSpecified=o;var s=Array.isArray(e);return s===Array.isArray(t)?s?r.arrayMerge(t,e,r):u(t,e,r):o(e,r)}f.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,r){return f(t,r,e)}),{})};var p=f;t.exports=p},function(t,e){t.exports={DYNAMIC_TEMPLATE_CHAR_WARNING:"\nContent with characters ', \" or & may need to be escaped with three brackets\n{{{ content }}}\nSee https://sendgrid.com/docs/for-developers/sending-email/using-handlebars/ for more information."}},function(t,e,r){"use strict";const n=(t,e,r,n)=>{if(void 0!==t&&void 0!==t[r]&&typeof t[r]!==n)throw new Error(`${n} expected for \`${e}.${r}\``)};t.exports={validateMailSettings(t){if("object"!=typeof t)throw new Error("Object expected for `mailSettings`");const{bcc:e,bypassListManagement:r,footer:s,sandboxMode:o,spamCheck:i}=t;n(e,"bcc","enable","boolean"),n(e,"bcc","email","string"),n(r,"bypassListManagement","enable","boolean"),n(s,"footer","enable","boolean"),n(s,"footer","text","string"),n(s,"footer","html","string"),n(o,"sandboxMode","enable","boolean"),n(i,"spamCheck","enable","boolean"),n(i,"spamCheck","threshold","number"),n(i,"spamCheck","postToUrl","string")},validateTrackingSettings(t){if("object"!=typeof t)throw new Error("Object expected for `trackingSettings`");const{clickTracking:e,openTracking:r,subscriptionTracking:s,ganalytics:o}=t;n(e,"clickTracking","enable","boolean"),n(e,"clickTracking","enableText","boolean"),n(r,"openTracking","enable","boolean"),n(r,"openTracking","substitutionTag","string"),n(s,"subscriptionTracking","enable","boolean"),n(s,"subscriptionTracking","text","string"),n(s,"subscriptionTracking","html","string"),n(s,"subscriptionTracking","substitutionTag","string"),n(o,"ganalytics","enable","boolean"),n(o,"ganalytics","utm_source","string"),n(o,"ganalytics","utm_medium","string"),n(o,"ganalytics","utm_term","string"),n(o,"ganalytics","utm_content","string"),n(o,"ganalytics","utm_campaign","string")}}},function(t,e,r){"use strict";t.exports=class{constructor(t,e,r){this.statusCode=t,this.body=e,this.headers=r}toString(){return"HTTP "+this.statusCode+" "+this.body}}},function(t,e,r){"use strict";class n extends Error{constructor(t){super();const{headers:e,status:r,statusText:n,data:s}=t;this.code=r,this.message=n,this.response={headers:e,body:s},this.stack||Error.captureStackTrace(this,this.constructor);const o=new RegExp(process.cwd()+"/","gi");this.stack=this.stack.replace(o,"")}toString(){const{body:t}=this.response;let e=`${this.message} (${this.code})`;return t&&Array.isArray(t.errors)&&t.errors.forEach(t=>{const r=t.message,n=t.field,s=t.help;e+=`\n  ${r}\n    ${n}\n    ${s}`}),e}toJSON(){const{message:t,code:e,response:r}=this;return{message:t,code:e,response:r}}}t.exports=n},function(t,e,r){"use strict";const n=r(21),s=r(22),o=["day","week","month"],i=["us","ca"],a=["desc","asc"];t.exports=class{constructor(t){this.startDate=null,this.endDate=null,this.aggregatedBy=null,t&&this.fromData(t)}fromData(t){if("object"!=typeof t)throw new Error("Expecting object for Statistics data");t=s(t),t=n(t,["substitutions","customArgs"]);const{startDate:e,endDate:r,aggregatedBy:o}=t;this.setStartDate(e),this.setEndDate(r),this.setAggregatedBy(o)}setStartDate(t){if(void 0===t)throw new Error("Date expected for `startDate`");if("Invalid Date"===new Date(t)||isNaN(new Date(t)))throw new Error("Date expected for `startDate`");console.log(t),this.startDate=new Date(t).toISOString().slice(0,10)}setEndDate(t){if(void 0!==t){if("Invalid Date"===new Date(t)||isNaN(new Date(t)))throw new Error("Date expected for `endDate`");this.endDate=new Date(t).toISOString().slice(0,10)}else this.endDate=(new Date).toISOString().slice(0,10)}setAggregatedBy(t){if(void 0!==t){if("string"!=typeof t||!o.includes(t.toLowerCase()))throw new Error("Incorrect value for `aggregatedBy`");this.aggregatedBy=t}}getGlobal(){const{startDate:t,endDate:e,aggregatedBy:r}=this;return{startDate:t,endDate:e,aggregatedBy:r}}getAdvanced(t){const e=this.getGlobal();return void 0===t||"string"==typeof t&&i.includes(t.toLowerCase())&&(e.country=t),e}getAdvancedMailboxProviders(t){const e=this.getGlobal();if(void 0===t)return e;if(Array.isArray(t)&&t.some(t=>"string"!=typeof t))throw new Error("Array of strings expected for `mailboxProviders`");return e.mailBoxProviders=t,e}getAdvancedBrowsers(t){const e=this.getGlobal();if(void 0===t)return e;if(Array.isArray(t)&&t.some(t=>"string"!=typeof t))throw new Error("Array of strings expected for `browsers`");return e.browsers=t,e}getCategories(t){if(void 0===t)throw new Error("Array of strings expected for `categories`");if(!this._isValidArrayOfStrings(t))throw new Error("Array of strings expected for `categories`");const e=this.getGlobal();return e.categories=t,e}getSubuser(t){if(void 0===t)throw new Error("Array of strings expected for `subusers`");if(!this._isValidArrayOfStrings(t))throw new Error("Array of strings expected for `subusers`");const e=this.getGlobal();return e.subusers=t,e}getSubuserSum(t="delivered",e=a[0],r=5,n=0){if("string"!=typeof t)throw new Error("string expected for `sortByMetric`");if(!a.includes(e.toLowerCase()))throw new Error("desc or asc expected for `sortByDirection`");if("number"!=typeof r)throw new Error("number expected for `limit`");if("number"!=typeof n)throw new Error("number expected for `offset`");const s=this.getGlobal();return s.sortByMetric=t,s.sortByDirection=e,s.limit=r,s.offset=n,s}getSubuserMonthly(t="delivered",e=a[0],r=5,n=0){if("string"!=typeof t)throw new Error("string expected for `sortByMetric`");if(!a.includes(e.toLowerCase()))throw new Error("desc or asc expected for `sortByDirection`");if("number"!=typeof r)throw new Error("number expected for `limit`");if("number"!=typeof n)throw new Error("number expected for `offset`");const s=this.getGlobal();return s.sortByMetric=t,s.sortByDirection=e,s.limit=r,s.offset=n,s}_isValidArrayOfStrings(t){return!!Array.isArray(t)&&!(t.length<1||t.some(t=>"string"!=typeof t))}}},function(t,e,r){"use strict";const n=r(55),s=r(29),o=r(22),i=r(123),a=r(52),c=r(21),u=r(24),f=r(54);t.exports={arrayToJSON:n,convertKeys:s,deepClone:o,mergeData:i,splitNameEmail:a,toCamelCase:c,toSnakeCase:u,wrapSubstitutions:f}},function(t,e,r){"use strict";t.exports=function(t,e){if("object"!=typeof t||null===t)throw new Error("Not an object provided for base");if("object"!=typeof e||null===e)throw new Error("Not an object provided for data");const r=Object.assign({},t);for(const t in e)e.hasOwnProperty(t)&&(e[t]&&Array.isArray(e[t])?r[t]=e[t]:e[t]&&"object"==typeof e[t]?r[t]=Object.assign({},e[t]):e[t]&&(r[t]=e[t]));return r}},function(t,e,r){const n=r(18),s=r(51);function o(t){console.log("[dotenv][DEBUG] "+t)}const i=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,a=/\\n/g,c=/\n|\r|\r\n/;function u(t,e){const r=Boolean(e&&e.debug),n={};return t.toString().split(c).forEach((function(t,e){const s=t.match(i);if(null!=s){const t=s[1];let e=s[2]||"";const r=e.length-1,o='"'===e[0]&&'"'===e[r];"'"===e[0]&&"'"===e[r]||o?(e=e.substring(1,r),o&&(e=e.replace(a,"\n"))):e=e.trim(),n[t]=e}else r&&o(`did not match key and value when parsing line ${e+1}: ${t}`)})),n}t.exports.config=function(t){let e=s.resolve(process.cwd(),".env"),r="utf8",i=!1;t&&(null!=t.path&&(e=t.path),null!=t.encoding&&(r=t.encoding),null!=t.debug&&(i=!0));try{const t=u(n.readFileSync(e,{encoding:r}),{debug:i});return Object.keys(t).forEach((function(e){Object.prototype.hasOwnProperty.call(process.env,e)?i&&o(`"${e}" is already defined in \`process.env\` and will not be overwritten`):process.env[e]=t[e]})),{parsed:t}}catch(t){return{error:t}}},t.exports.parse=u}]));